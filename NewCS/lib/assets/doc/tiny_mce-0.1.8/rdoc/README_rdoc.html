<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>File: README.rdoc [tiny_mce-0.1.8 Documentation]</title>

  <link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet" />

  <script src="./js/jquery.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/thickbox-compressed.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/quicksearch.js" type="text/javascript"
    charset="utf-8"></script>
  <script src="./js/darkfish.js" type="text/javascript"
    charset="utf-8"></script>
</head>

<body class="file">
  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="./CHANGELOG_PLUGIN_rdoc.html">CHANGELOG_PLUGIN.rdoc</a></li>
        
          <li class="file"><a href="./DEV_UPGRADE_NOTES_rdoc.html">DEV_UPGRADE_NOTES.rdoc</a></li>
        
          <li class="file"><a href="./README_rdoc.html">README.rdoc</a></li>
        
          <li class="file"><a href="./SPELLCHECKING_PLUGIN_rdoc.html">SPELLCHECKING_PLUGIN.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="./TinyMCE.html">TinyMCE</a></li>
        
          <li><a href="./TinyMCE/Base.html">TinyMCE::Base</a></li>
        
          <li><a href="./TinyMCE/Base/ClassMethods.html">TinyMCE::Base::ClassMethods</a></li>
        
          <li><a href="./TinyMCE/Configuration.html">TinyMCE::Configuration</a></li>
        
          <li><a href="./TinyMCE/Helpers.html">TinyMCE::Helpers</a></li>
        
          <li><a href="./TinyMCE/Plugin.html">TinyMCE::Plugin</a></li>
        
          <li><a href="./TinyMCE/Railtie.html">TinyMCE::Railtie</a></li>
        
          <li><a href="./TinyMCE/SpellChecker.html">TinyMCE::SpellChecker</a></li>
        
          <li><a href="./TinyMCE/TinyMCEInvalidOption.html">TinyMCE::TinyMCEInvalidOption</a></li>
        
          <li><a href="./TinyMCE/TinyMCEInvalidOptionType.html">TinyMCE::TinyMCEInvalidOptionType</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    
<h1><a href="TinyMCE.html">TinyMCE</a> for Rails</h1>

<p>This gem is being depreciated because I don’t have time to maintain it and
the code base is in an inconsistent state! Seem following notes.</p>

<p>Note for Rails 3.1 users: in light of the improvements for JavaScript
libraries in Rails 3.1’s asset pipeline, this gem/plugin is NOT recommended
for Rails 3.1 or above. Use <a
href="https://github.com/spohlenz/tinymce-rails">github.com/spohlenz/tinymce-rails</a>!</p>

<p>Note for Rails 3.0 users: consider if <a
href="https://github.com/mikehoward/use_tinymce">github.com/mikehoward/use_tinymce</a>
will suit your needs.</p>

<p>Note for Rails 2.3x users: I recommend checking the commit messags on forks
of this gem at <a
href="https://github.com/kete/tiny_mce/network.">github.com/kete/tiny_mce/network.</a>
You’ll probably have to do a bit of trial and error to get one that works
for you. Learn how to build and install a gem from local source.</p>

<p>Final note: I may come back to fixing this gem’s codebase, but I can’t
guarantee it, thus I recommend you explore alternatives.</p>

<p>This gem/plugin provides for the installation and utilization of <a
href="TinyMCE.html">TinyMCE</a> in Ruby on Rails applications of version
2.3.5 and onward.</p>

<p><a href="TinyMCE.html">TinyMCE</a> is a WYSIWYG HTML editing component
released under the GNU Lesser General Public License 2.1 (LGPL 2.1) by
Moxiecode Systems (<a
href="http://tinymce.moxiecode.com/">tinymce.moxiecode.com/</a>).</p>

<h2>Denpendency</h2>

<p>As of 0.1.7, this gem depends on jQuery being loaded before the <a
href="TinyMCE.html">TinyMCE</a> init declaration. If you are like me and
also load Prototype, consider adding something like this after your jQuery
load:</p>

<pre>&lt;%= javascript_tag('jQuery.noConflict();') -%&gt;</pre>

<h2>Installation</h2>

<p>Installing <a href="TinyMCE.html">TinyMCE</a> for Rails takes no more than
a few minutes to install.</p>

<h3>Step 1</h3>

<p>The recommended installation method for getting tiny_mce working in your
application is to use the gem version. To do so, open the console and run:</p>

<pre>[sudo] gem install tiny_mce</pre>

<p>Then add this to config/environment.rb of your Rails application:</p>

<pre>config.gem 'tiny_mce'</pre>

<p>For Rails 3, you will need to add the following line to file Gemfile:</p>

<pre>gem 'tiny_mce'</pre>

<p>Alternatively, you can install it as a plugin. To do so, open a console,
and in the root of you Rails application, install the plugin by running
<b>one</b> of the following (depending on the method you use to import
plugins):</p>
<ul><li>
<p>script/plugin install git://github.com/kete/tiny_mce.git</p>
</li><li>
<p>piston import git://github.com/kete/tiny_mce.git vendor/plugins/tiny_mce</p>
</li><li>
<p>git submodule add git://github.com/kete/tiny_mce.git
vendor/plugins/tiny_mce</p>
</li><li>
<p>Download the latest files ( <a
href="http://github.com/kete/tiny_mce/tarball/master">github.com/kete/tiny_mce/tarball/master</a>
) and extract to vendor/plugins/tiny_mce</p>
</li></ul>

<h3>Step 2</h3>

<p>For the page you want to add <a href="TinyMCE.html">TinyMCE</a>, go to the
view’s controller and add:</p>

<pre>uses_tiny_mce</pre>

<p>Then append the following to the text area you want to transform into a <a
href="TinyMCE.html">TinyMCE</a> editor. You can change the name of the
class you want to use by editing the ‘editor_selector’ param in the
controller code options.</p>

<pre>:class =&gt; &quot;mceEditor&quot;</pre>

<p>Lastly, add the following line(s) under the &lt;head&gt; element of your
application view. Note you may need to add this to the view’s layout.</p>

<pre>&lt;%= include_tiny_mce_if_needed %&gt;</pre>

<p>Now you’re all set! Start your server. The gem/plugin will automatically
copy the sources to the public javascripts directory when the server is
started.</p>

<h2>Configuration</h2>

<p>There are several ways to configure the plugin to get the desirable effect
you’re looking for. The following ways can be combined to create complex
tiny mce setups</p>

<h3>Load Order</h3>

<p>A load order is present so that you have finer grained control over what
shows up where. The load order currently looks like this. The later ones
receive more power, that is, the overwrite similar settings in previous
configurations.</p>
<ol><li>
<p>The default tiny_mce plugin settings. Sets it to work on textareas with
class of mceEditor, with the english advanced theme.</p>
</li><li>
<p>config/tiny_mce.yml if present. You set your own options here, used across
all editors on the site.</p>
</li><li>
<p>uses_tiny_mce declaration. You set you own options here, used across all
editors in the controller.</p>
</li><li>
<p>include_tiny_mce_if_needed declaration. You set your own options here, used
across all editors contained within that layout.</p>
</li></ol>

<p>Below, I’ll cover how to use #2, and #3, which are the most likely ones
you’ll want to use.</p>

<h3>Global Options</h3>

<p>If you have a set of default options that is used throughout all editors in
your application, you might want to make them global. You can do this by
putting your settings into config/tiny_mce.yml. If the file exists, the
tiny_mce plugin will parse the options in it first.</p>

<h4>Example</h4>

<pre>theme: advanced
plugins:
- table
- fullscreen</pre>

<h3><a href="TinyMCE.html">TinyMCE</a> options</h3>

<p>You can change the theme, order/choice of buttons, selectors Id, plugins,
and many more by passing an :options hash to the uses_tiny_mce declaration.</p>

<p>The options hash can contain any number of settings available in
lib/tiny_mce/valid_tinymce_options.yml  (a copy of the settings available
per version).</p>

<p>If an option is misspelled, invalid, or deprecated (no longer in <a
href="TinyMCE.html">TinyMCE</a>), when you go to a page containing your
editor, you will receive an Exception, which must be dealt with before
continuing.</p>

<p>You can read about all these options at <a
href="http://tinymce.moxiecode.com/documentation.php">tinymce.moxiecode.com/documentation.php</a></p>

<h4>Example</h4>

<pre>uses_tiny_mce :options =&gt; {
                            :theme =&gt; 'advanced',
                            :theme_advanced_resizing =&gt; true,
                            :theme_advanced_resize_horizontal =&gt; false,
                            :plugins =&gt; %w{ table fullscreen }
                          }</pre>

<h3>Filter options</h3>

<p>If, like most applications, you only need the editor on the new, create,
edit, and update pages, then tell the uses_tiny_mce declaration this, so it
doesn’t load up all the files unnecessarily.</p>

<p>The declaration accepts any number of default parameters a normal
controller filter would.</p>

<h4>Example</h4>

<pre>uses_tiny_mce :only =&gt; [:new, :create, :edit, :update]</pre>

<h3>Additional Javascript options</h3>

<p>Sometimes, when you need complex arrays of data for plugins or such, the
plugin helpers aren’t complex enough to do what you need. But you can
always fall back to supplying your own options. You can this by passing a
raw javascript (no &lt;script&gt; tags) to the uses_tiny_mce declaration.
Consider the following example for the template plugin.</p>

<pre>uses_tiny_mce :raw_options =&gt; &quot;template_templates : [ {
                                                        title : 'Editor Details',
                                                        src : 'editor_details.htm',
                                                        description : 'Adds Editors Name and Staff ID'
                                                    } ]&quot;</pre>

<h2>Methods</h2>

<p><a href="TinyMCE.html">TinyMCE</a> has a range of convenience methods for
loading <a href="TinyMCE.html">TinyMCE</a>. Besides the uses_tiny_mce shown
above, they include:</p>

<pre>using_tiny_mce?
    Check whether the uses_tiny_mce declaration has been made in the current controller

raw_tiny_mce_init
    Creates a string of javascript formed from the options declared to uses_tiny_mce (is not wrapped in a JS tag though, use tiny_mce_init for that)

tiny_mce_init
    Creates a javascript tag formed from the options declared to uses_tiny_mce (executes whether uses_tiny_mce was declared or not)
tiny_mce_init_if_needed
    Creates a javascript tag formed from the options declared to uses_tiny_mce (executes only when uses_tiny_mce has been declared)

include_tiny_mce_js
    Includes the TinyMCE core javascript file, must be declared before tiny_mce_init (executes whether uses_tiny_mce was declared or not)
include_tiny_mce_js_if_needed
    Includes the TinyMCE core javascript file, must be declared before tiny_mce_init (executes only when uses_tiny_mce has been declared)

include_tiny_mce_if_needed
    Includes the TinyMCE core javascript file, and creates a string of javascript formed from the options declared to uses_tiny_mce (executes only when uses_tiny_mce has been declared)</pre>

<h2>Spellchecking</h2>

<p>See <a href="SPELLCHECKING_PLUGIN_rdoc.html">SPELLCHECKING_PLUGIN.rdoc</a>
. Note: Spell checking is not tested o regularly maintained. Use with
caution.</p>

<p><a
href="http://github.com/kete/tiny_mce/tree/master/SPELLCHECKING_PLUGIN.rdoc">github.com/kete/tiny_mce/tree/master/SPELLCHECKING_PLUGIN.rdoc</a></p>

<h2>Generating new lang</h2>

<p>If you have a new language to add to this plugin you can generate it:</p>

<pre>rake tiny_mce:new:lang LANG=lang</pre>

<p>Will generate 4 copy “en” files:</p>
<ul><li>
<p>tiny_mce/lib/tiny_mce/assets/tiny_mce/langs/lang.js</p>
</li><li>
<p>tiny_mce/lib/tiny_mce/assets/tiny_mce/themes/advanced/langs/lang.js</p>
</li><li>
<p>tiny_mce/lib/tiny_mce/assets/tiny_mce/themes/advanced/langs/lang_dlg.js</p>
</li><li>
<p>tiny_mce/lib/tiny_mce/assets/tiny_mce/themes/simple/langs/lang_dlg.js</p>
</li></ul>

<p>Now you can make your own translation to the basic tinyMCE by editing these
files (don’t forget this should be done in a fork of the source code and
you may want to rebuild it if you are using <a
href="TinyMCE.html">TinyMCE</a> as a gem). Remember that if you use some
tinyMCE plugins you will have to make translation files for those plugins
manually.  This commit gives a good example of the other files involved:</p>

<p><a
href="http://github.com/kete/tiny_mce/commit/a55d148588517e37d1b81627817d0fb3341dd4ce">github.com/kete/tiny_mce/commit/a55d148588517e37d1b81627817d0fb3341dd4ce</a></p>

<p>If you want to choose a language globally, update config/tiny_mce.yml with
a language entry:</p>

<p>language: pt-BR</p>

<p>You may also change this in the init process for <a
href="TinyMCE.html">TinyMCE</a> (good for multilanguage sites) use the
:options hash accordingly in your code.</p>

<p>You may wish to contribute your language translation back to the <a
href="TinyMCE.html">TinyMCE</a> project. Details can be found here:</p>

<p><a
href="http://wiki.moxiecode.com/index.php/TinyMCE:Creating_Language">wiki.moxiecode.com/index.php/TinyMCE:Creating_Language</a></p>

<h2>Plugins</h2>

<p>Plugins allow you to insert or change files of the <a
href="TinyMCE.html">TinyMCE</a> editor, such as installing <a
href="TinyMCE.html">TinyMCE</a> Editor plugins.</p>

<p>There is an example plugin at <a
href="http://github.com/kete/tiny_mce_plugin_example">github.com/kete/tiny_mce_plugin_example</a></p>

<p>A tiny_mce plugin is very simple. <a
href="http://github.com/kete/tiny_mce_plugin_example/blob/master/lib/tiny_mce-paste.rb">github.com/kete/tiny_mce_plugin_example/blob/master/lib/tiny_mce-paste.rb</a></p>

<p>It requires tiny_mce, installs the <a href="TinyMCE.html">TinyMCE</a>
sources if they aren’t already, creates a subclass of <a
href="TinyMCE/Plugin.html">TinyMCE::Plugin</a>, and calls install on it.</p>

<p><a href="TinyMCE/Plugin.html">TinyMCE::Plugin</a> provides a default
self.install method, which copies files from self.assets_path to the
tiny_mce directory under public/javascripts</p>

<p>You can overwrite the install method to something more complex, like remove
plugins, or swap plugins. Example:</p>

<pre>class SwapPasteForPastePlus &lt; TinyMCE::Plugin
  def self.install
    require 'fileutils'
    FileUtils.rm(Rails.public.join('javascripts/tiny_mce/plugins/paste'))
    FileUtils.cp_r(self.assets_path, Rails.public.join('javascripts/tiny_mce'))
  end
end</pre>

<h2>Testing</h2>

<p>The plugin comes with a test suite that can be run once the plugin is
installed in an application.</p>

<p>Change into the plugins directory and run ‘rake’ to start them.</p>

<p>Note: The tests require Rails 2.2 or higher, and are currently tested on
Rails 2.3 (so problems in older versions may arise - please see “Reporting
an Issue” if they do)</p>

<h2>Reporting an Issue</h2>

<p>If you have a problem, please report it on the tiny_mce plugin ticket
tracker (on Ligthouseapp)</p>

<p><a
href="http://kete.lighthouseapp.com/projects/14744-tiny_mce/tickets">kete.lighthouseapp.com/projects/14744-tiny_mce/tickets</a></p>

<p>Be sure to include Rails version, plugin version, and when possible, a
sample application that can reproduce the problem. Upload it to one of the
various file hosting sites and link to it in the ticket. Don’t include
vendored rails or the tiny_mce plugin in the archive (if I know the
versions, I’ll add these myself).</p>

<h2>Contributing</h2>

<p>If you’ve added something, why not share it. Fork the repository (<a
href="http://github.com/kete/tiny_mce">github.com/kete/tiny_mce</a>), make
the changes and send a pull request to the maintainers.</p>

<p>Changes with tests, and full documentation are preferred.</p>

<h1>Credits</h1>

<p>This plugin was created by Blake Watters &lt;blake@near-time.com&gt;</p>

<p>This plugin is currently maintained by Kieran Pilkington
&lt;kieran@katipo.co.nz&gt;</p>

<p>Bundled <a href="TinyMCE.html">TinyMCE</a> version: 3.4</p>

  </div>

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>
</body>
</html>

